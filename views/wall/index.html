{{extend 'layout.html'}}


<h1>Mural</h1>
<hr />
{{if wall:}}
<section>
	{{count_articles = 0}}
	{{for article in wall['selection']:}}
		{{count_articles += 1}}
		
		{{if count_articles <= 8:}}
			<article class="wall">
				<header>
					<div class="inner">
						<h4 style="float: left">
						{{=A(article.title, _href=URL(c='wall', f='article', args=[article.id]))}}
						</h4>

						<span class="wall-article-date">
							{{cdate = article.created_on}}
							{{='{0}/{1}/{2}'.format(cdate.day, cdate.month, cdate.year)}}
						</span>
					</div>
				</header>

				<div class="wall-body-content">
					<p>
						{{=article.content}}
					</p>
					<a href="{{=URL(c='wall', f='article', args=[article.id])}}"> 
						Ler o artigo inteiro
					</a>
				</div>
			</article>
			<hr />
		{{pass}}
	{{pass}}
</section>
	
	{{total_pages = wall['count']/8}}
	
	{{if total_pages > 0:}}
		{{if count_articles <= 8:}}
			<span class="wall-pagination">
				<a href="#previous" class="previous">Anterior</a> |
					{{for n in range(total_pages+1):}}
						{{if n > 0:}}
							<a href="#{{=n}}">{{=n}}</a>
						{{pass}}
					{{pass}}
				| <a href="#next" class="next">Pr√≥ximo</a>			
			</span>
		{{pass}}
	{{pass}}
{{pass}}
